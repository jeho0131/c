#include <stdio.h>
#include <windows.h>
#include <conio.h>


typedef struct {int x;	int y;} point; // 좌표 구조체 만들기

int stagemax = 15; //스테이지 최대치

//벽, 공, 집 생성수
int wInLev[15] ={ 28, 39, 35, 26, 37, 32, 26, 26, 29, 29, 26, 29, 36, 28 }; 
int bInLev[15] = { 4, 3, 4, 5, 5, 5, 5, 4, 4, 6, 6, 4, 7, 8 };
int hInLev[15] = { 4, 3, 4, 5, 5, 5, 5, 4, 4, 6, 6, 4, 7, 8 };

//현재 스테이지 좌표들 저장공간
point w[100]; 
point b[100];
point h[100];
point P;

//모든 스테이지의 벽 
point w1[15][100] = {

					        { {4,2}, {5,2}, {6,2}, {4,3}, {6,3}, {4,4}, {6,4}, 
							  {7,4}, {8,4}, {9,4}, {2,5}, {3,5}, {4,5}, {9,5},
							  {2,6}, {7,6}, {8,6}, {9,6}, {2,7}, {3,7}, {4,7},
							  {5,7}, {7,7}, {5,8}, {7,8}, {5,9}, {6,9}, {7,9} },
	
							{ {2,2}, {3,2}, {4,2}, {5,2}, {6,2}, {2,3}, {6,3}, {2,4}, 
							  {6,4}, {8,4}, {9,4}, {10,4}, {2,5}, {6,5}, {8,5}, {10,5}, 
							  {2,6}, {3,6}, {4,6}, {6,6}, {7,6}, {8,6}, {10,6}, {3,7}, 
							  {4,7}, {10,7}, {3,8}, {7,8}, {10,8}, {3,9}, {7,9}, {8,9},
							  {9,9}, {10,9}, {3,10}, {4,10}, {5,10}, {6,10}, {7,10}    },
	
							{ {2,3}, {3,3}, {4,3}, {5,3}, {6,3}, {7,3}, {8,3}, 
							  {2,4}, {8,4}, {9,4}, {10,4}, {1,5}, {2,5}, {4,5}, 
							  {5,5}, {6,5}, {10,5}, {1,6}, {10,6}, {1,7}, {5,7},
							  {9,7}, {10,7}, {1,8}, {2,8}, {5,8}, {9,8}, {2,9}, 
							  {3,9}, {4,9}, {5,9}, {6,9}, {7,9}, {8,9}, {9,9}   },
	
							{ {3,2}, {4,2}, {5,2}, {6,2}, {2,3}, {3,3}, {6,3}, 
							  {2,4}, {6,4}, {2,5}, {3,5}, {6,5}, {7,5}, {2,6},
							  {3,6}, {7,6}, {2,7}, {7,7}, {2,8}, {7,8}, 
							  {2,9}, {3,9}, {4,9}, {5,9}, {6,9}, {7,9}			},
	
							{ {5,2}, {6,2}, {7,2}, {8,2}, {9,2}, {10,2}, 
							  {11,2}, {4,3}, {5,3}, {8,3}, {11,3}, {4,4}, 
							  {8,4}, {11,4}, {4,5}, {11,5}, {4,6}, {7,6}, 
							  {8,6}, {11,6}, {2,7}, {3,7}, {4,7}, {8,7}, 
							  {10,7}, {11,7}, {2,8},{10,8}, {2,9}, {3,9}, 
							  {4,9}, {5,9}, {6,9}, {7,9}, {8,9}, {9,9}, {10,9}	},
	
							{ {4,3}, {5,3}, {6,3}, {7,3}, {8,3}, {9,3}, {2,4}, {3,4}, 
							  {4,4}, {9,4}, {1,5}, {2,5}, {6,5},{7,5}, {9,5}, {10,5}, 
							  {1,6}, {10,6}, {1,7}, {9,7}, {10,7}, {1,8}, {2,8}, {3,8}, 
							  {4,8}, {5,8}, {6,8}, {9,8}, {6,9}, {7,9}, {8,9}, {9,9}   	},
	
							{ {4,3}, {5,3}, {6,3}, {7,3}, {8,3}, {9,3}, {4,4}, 
							  {9,4}, {2,5}, {3,5}, {4,5}, {9,5}, {2,6},	{9,6}, 
							  {2,7}, {8,7}, {9,7}, {2,8}, {3,8}, {4,8}, 
							  {5,8}, {8,8}, {5,9}, {6,9}, {7,9}, {8,9} 			},
	
							{ {4,2}, {5,2}, {6,2}, {7,2}, {8,2}, {2,3}, {3,3}, 
							  {4,3}, {8,3}, {2,4}, {8,4}, {9,4}, {2,5}, {9,5}, 
							  {2,6}, {3,6}, {4,6}, {9,6}, {4,7}, {8,7}, 
							  {9,7}, {4,8}, {5,8}, {6,8}, {7,8}, {8,8}			},
	
							{ {5,3}, {6,3}, {7,3}, {8,3}, {5,4}, {8,4}, {4,5}, 
							  {5,5}, {8,5}, {9,5}, {4,6}, {9,6}, {3,7}, {4,7}, {9,7}, 
							  {10,7}, {3,8}, {6,8}, {10,8}, {3,9}, {10,9}, {3,10}, 
							  {4,10}, {5,10}, {6,10}, {7,10}, {8,10}, {9,10}, {10,10}	},
	
							{ {2,3}, {3,3}, {4,3}, {5,3}, {6,3}, {7,3}, {8,3}, 
							  {9,3}, {2,4}, {5,4}, {9,4}, {2,5}, {9,5}, {2,6}, 
							  {8,6}, {9,6}, {2,7}, {9,7}, {2,8}, {5,8}, {9,8}, 
							  {2,9}, {3,9}, {4,9}, {5,9}, {6,9}, {7,9}, {8,9}, {9,9}	},
							  
							{ {3,3}, {4,3}, {5,3}, {6,3}, {7,3}, {8,3}, {2,4}, 
							  {3,4}, {8,4}, {9,4}, {2,5}, {9,5}, {2,6}, {9,6}, 
							  {2,7}, {9,7}, {2,8}, {3,8}, {4,8}, {7,8}, 
							  {8,8}, {9,8}, {4,9}, {5,9}, {6,9}, {7,9}			},
							  
							{ {2,3}, {3,3}, {4,3}, {5,3}, {6,3}, {7,3}, {2,4}, 
							  {7,4}, {2,5}, {7,5}, {8,5}, {2,6}, {5,6}, {8,6}, 
							  {9,6}, {10,6}, {2,7}, {3,7}, {10,7}, {3,8}, {10,8}, 
							  {3,9}, {4,9}, {5,9}, {6,9}, {7,9}, {8,9}, {9,9}, {10,9}	},
							
							{ {2,2}, {3,2}, {4,2}, {5,2}, {6,2}, {7,2}, 
							  {8,2}, {2,3}, {8,3}, {1,4}, {2,4}, {3,4}, 
							  {8,4}, {9,4}, {10,4}, {1,5}, {5,5}, {10,5}, 
							  {1,6}, {7,6}, {10,6}, {1,7}, {6,7}, {10,7}, 
							  {1,8}, {2,8}, {3,8}, {4,8}, {8,8}, {9,8}, 
							  {10,8}, {4,9}, {5,9}, {6,9}, {7,9}, {8,9}		},
							  
							{ {3,2}, {4,2}, {5,2}, {6,2}, {7,2}, {8,2}, {9,2}, 
							  {3,3}, {9,3}, {3,4}, {6,4}, {9,4}, {3,5}, {9,5}, 
							  {3,6}, {9,6}, {3,7}, {9,7}, {3,8}, {6,8}, {9,8}, 
							  {3,9}, {4,9}, {5,9}, {6,9}, {7,9}, {8,9}, {9,9}	}
	
																		             		};
//모든 스테이지의 공 좌표
point b1[15][100] = {

							  {{5,5}, {7,5}, {5,6}, {6,7}},
							  {{4,4}, {5,4}, {4,5}},
							  {{3,5}, {5,6}, {8,6}, {7,7}},
							  {{4,4}, {4,5}, {5,6}, {4,7}, {5,8}},
							  {{5,5}, {7,5}, {9,5}, {6,6}, {6,7}},
							  {{5,5}, {4,6}, {6,6}, {5,7}, {7,7}},
							  {{5,5}, {6,5}, {7,5}, {5,6}, {4,7}},
							  {{5,4}, {6,5}, {6,6}, {7,6}},
							  {{7,6}, {6,7}, {7,8}, {8,8}},
							  {{4,5}, {7,5}, {4,6}, {6,6}, {4,7}, {7,7}},
							  {{4,5}, {6,5}, {7,5}, {4,7}, {5,7}, {7,7}},
							  {{4,5}, {5,5}, {6,5}, {8,7}},
							  {{7,4}, {4,5}, {6,5}, {8,5}, {3,6}, {4,6}, {8,6}},
							  {{6,3}, {5,5}, {6,5}, {7,5}, {6,6}, {5,7}, {6,7}, {7,7}}
		
													  									};

//모든 스테이지의 집 좌표
point h1[15][100] = {

							  {{5,3}, {8,5}, {3,6}, {6,8}},
						      {{9,5}, {9,6}, {9,7}},	
						      {{3,7}, {4,7}, {3,8}, {4,8}},
						      {{3,7}, {3,8}, {4,8}, {5,8}, {6,8}},
						      {{3,8}, {4,8}, {5,8}, {6,8}, {7,8}},
						      {{3,5}, {2,6}, {3,6}, {2,7}, {3,7}},
						      {{6,6}, {7,6}, {5,7}, {6,7}, {7,7}},
						      {{6,4}, {5,5}, {7,5}, {6,6}},
						      {{6,4}, {7,4}, {7,5}, {8,6}},
						      {{5,5}, {6,5}, {5,6}, {6,6}, {5,7}, {6,7}},
						      {{3,6}, {4,6}, {5,6}, {6,6}, {7,6}, {8,6}},
						      {{6,6}, {7,6}, {6,7}, {7,7}},
						      {{3,3}, {4,3}, {5,3}, {6,3}, {4,4}, {5,4}, {6,4}},
						      {{4,3}, {5,3}, {7,3}, {8,3}, {4,4}, {5,4}, {7,4}, {8,4}}
		
																						};

//모든 스테이지의 집 기본 모드
int hmn[15][100] =  {
							{ 0, 0, 0, 0 },
							{ 0, 0, 0 },
							{ 0, 0, 0, 0 },
							{ 0, 0, 0, 1, 0 },
							{ 0, 0, 0, 0, 0 },
							{ 0, 0, 0, 0, 0 },
							{ 0, 0, 0, 0, 0 },
							{ 0, 0, 0, 1 },
							{ 0, 0, 0, 0 },
							{ 0, 0, 0, 1, 0, 0 },
							{ 0, 0, 0, 0, 0, 0 },
							{ 0, 0, 0, 0 },
							{ 0, 0, 0, 0, 0, 0, 0 },
							{ 0, 0, 0, 0, 0, 0, 0, 0 }
														};

//모든 스테이지의 플레이어 시작 좌표
point p[15] = {
					   	{6,6}, {3,3}, {3,6}, {3,4}, {10,3}, 
					    {8,7}, {3,6}, {7,3}, {6,9}, {3,6},
						{6,8}, {5,8}, {6,8}, {7,8}
															};

//현재 스테이지 처음 저장
point bb[100];
point hb[100];
point pbu;
point pp[4];
point bp[4][100];

int bn = 0;
int hm[100];
int hn = 0;
int hn2 = 0;
int hmax = 0; //집이 얼마나 채워졌는지
int stage = 0; //현재 스테이지
int ws = 0; //현재 스테이지의 집의 갯수
int bs = 0; //현재 스테이지의 공의 갯수
int hs = 0; //현재 스테이지의 벽의 갯수
int clear[stagemax]; //어떤 스테이지를 클리어 
int clearcheck = 0; //클리어를 얼마나 했는지
int back = 0; //얼마나 이전 이동으로 되돌아 갔는지



//좌표 바꾸기
void cxy(int x, int y) {
	COORD Pos = {x, y};
	SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE), Pos);
}



//플레이어 이동할 곳 확인
int isEmpty(int x, int y) {
	for(int i = 0; i < ws; i++) {
		if(w[i].x == x && w[i].y == y) {
			return 0;
		}
	}
	for(int k = 0; k < hs; k++) {
		if(h[k].x == x && h[k].y == y) {
			hn = k;
			return 3;
		}
	}
	for(int j = 0; j < bs; j++) {
		if(b[j].x == x && b[j].y == y) {
			bn = j;
			return 2;
		}
	}

	return 1;
}


int numIsBall(int x, int y) {
	for(int i = 0; i < bs; i++) {
		if(b[i].x == x && b[i].y == y) {
			bn = i;
			break;
		}
	}
}


//지정된 좌표 지우기
void ce(int x, int y) { 
	cxy(x * 2, y); 
	printf("  ");  
}

//전체 지우기
void e() {
	for(int r = 0; r < 20; r++) {
		for(int r2 = 0; r2 < 30; r2++) {
			ce(r, r2);
		}
	}
	for(int j = 0; j < hs; j++) {
		hm[j] = hmn[stage][j];
		if(hmn[stage][j] == 1) {
			hmax += 1;
		}
	}
}

//그리기
void draw(int x, int y, int c) {
	cxy(x * 2, y);

	if(c == 0) {
		printf("★");
	}
	else if(c == 1) {
		for(int i = 0; i < ws; i++) {
			cxy(w[i].x * 2, w[i].y);
			printf("■");
		}
	}
	else if(c == 2) {
		printf("●");
	}
	else if(c == 3) {
		for(int j = 0; j < hs; j++) {
			cxy(h[j].x * 2, h[j].y);
			if(hm[j] == 1) printf("◆"); 
			else printf("◇");
		}
	}
}

//초기화
void backup() {
	cxy(0,0);
	for(int r = 0; r < 16; r++) {
		for(int r2 = 0; r2 < 16; r2++) {
			ce(r, r2);
		}
	}
	for(int i = 0; i < bs; i++) {
		b[i] = bb[i];
	}
	for(int j = 0; j < hs; j++) {
		hm[j] = hmn[stage][j];
		if(hmn[stage][j] == 1) {
			hmax += 1;
		}
	}
	for(int ball = 0; ball < bs; ball++) {
		draw(b[ball].x, b1[stage][ball].y, 2);
	}
	draw(w[0].x, w[0].y, 1);
	draw(h[0].x, h[0].y, 3);
	for(int me = 0; me < 12; me++) {
		ce(8 + (me / 2), 19);
	}
	hmax = 0;
}

//이동하기 전 저장
void past() {
	for(int i = 3; i > 0; --i) {
		pp[i].x = pp[i-1].x;
		pp[i].y = pp[i-1].y;
	} 
	pp[0].x = P.x;
	pp[0].y = P.y;

	for(int b1 = 3; b1 > 0; --b1) {
		for(int b2 = 0; b2 < bs; b2++) {
			bp[b1][b2].x = bp[b1-1][b2].x;
			bp[b1][b2].y = bp[b1-1][b2].y;
		}
	}
	for(int b3 = 0; b3 < bs; b3++) {
		bp[0][b3].x = b[b3].x;
		bp[0][b3].y = b[b3].y;
	}
	back += 1;
}

//이동하기 전으로 돌아가기
void pastChange() {
	for(int i = 0; i < 4; i++) {
		pp[i].x = pp[i+1].x;
		pp[i].y = pp[i+1].y;
	}
	for(int b = 0; b < 4; b++) {
		for(int b2 = 0; b2 < bs; b2++) {
			bp[b][b2].x = bp[b+1][b2].x;
			bp[b][b2].y = bp[b+1][b2].y;
		}
	}
}

//현재 스테이지 좌표 바꾸기
void cS() {
	for(int i = 0; i < ws; i++) {
		w[i] = w1[stage][i];
	}
	for(int j = 0; j < bs; j++) {
		b[j] = b1[stage][j];
	}
	for(int k = 0; k < hs; k++) {
		h[k] = h1[stage][k];
	}
	P = p[stage];
}

//벽, 공, 집이 얼마나 있는지 저장
void forn() {
	ws = wInLev[stage];
	bs = bInLev[stage];
	hs = hInLev[stage];
}

void makeStage() {
	forn();
	cS();
	int pc[2];
	int bc[2];
	int a;
	int pe = 0;	
	int pb = 0;
	int add[4][2] = {{-1,0},{1,0},{0,-1},{0,1}}; //각각 왼쪽, 오른쪽, 위, 아래로 이동 할 수 있는 좌표 저장
	int i = 0;
	int move = 0;
	back = 1;
	int hmc = 0;
	int hmaxcheck = 0;
	e();
	
	//현재 스테이지 만들기
	for(int i = 0; i < bs; i++) {
		bb[i] = b[i];
	}
	pbu = P;

	for(int ball = 0; ball < bs; ball++) {
		draw(b[ball].x, b[ball].y, 2);
	}

	draw(P.x, P.y, 0);
	draw(w[i].x, w[i].y, 1);
	draw(h[i].x, h[i].y, 3);
	
	//현재 스테이지랑 이동 횟수 나타내기
	cxy(2 * 2, 17);
	printf("[STAGE]");

	cxy(8 * 2, 17);
	printf("[MOVE]");

	cxy(7, 19);
	printf("%d", stage + 1);

	cxy(9 * 2, 19);
	printf("%d", move);
	
	past();

	//플레이어 이동
	while(hmax != hs) {
		//현재 입력 되는 값 저장
		a = getch();
		
		//화살표 값에 따라 방향(i)을 다르게 나타내기
		if (a == 224) {
			a = getch();

			switch(a){
				case 75: i = 0; break; 
				case 77: i = 1; break;
				case 72: i = 2; break;
				case 80: i = 3; break;
			}
		}
		
		//플레이어 이동할 좌표에 무엇이 있는지 확인
		pe = isEmpty(P.x + add[i][0], P.y + add[i][1]);

		
		//a를 누르면 이전 스테이지로 이동
		if(a == 97) {
			if(stage - 1 > -1) {
				stage -= 2;
				break;
			}
		}
		
		//z를 누르면 이동하기 전으로 이동
		else if(a == 122) {
			if(move != 0 && back > 0) {
				pastChange();

				ce(P.x, P.y);
				P.x = pp[0].x;
				P.y = pp[0].y;
				draw(P.x, P.y, 0);

				for(int mp = 0; mp < bs; mp++) {
					ce(b[mp].x, b[mp].y);
					b[mp].x = bp[0][mp].x;
					b[mp].y = bp[0][mp].y;
					draw(b[mp].x, b[mp].y, 2);
				}

				for(int hp = 0; hp < hs; hp++) {
					for(int hp2 = 0; hp2 < bs; hp2++) {
						if(h[hp].x != bp[0][hp2].x || h[hp].y != bp[0][hp2].y) {
							hmc += 1;
						}
					}
					if(hmc == bs) {
						hmaxcheck += 1;
						hm[hp] = 0;
					}
					else {
						hm[hp] = 1;
					}
					hmc = 0;
				}
				draw(h[0].x, h[0].y, 3);
				hmax = hs - hmaxcheck;
				hmaxcheck = 0;
				move -= 1;
				back -= 1;
			}
		}
		
		//s를 누르면 다음 스테이지로 이동
		else if(a == 115) {
			if(stage + 1 < stagemax) {
				break;
			}
		}
		
		//c를 누르면 현재 스테이지 초기화
		else if(a == 99) {
			backup();
			P = pbu;
			draw(P.x, P.y, 0);
			move = 0;
		}
		
		//플레이어가 이동할 좌표에 아무것도 없을경우
		else if (pe == 1) {
			//그 좌표로 이동한다
			pc[0] = P.x;
			pc[1] = P.y;
			P.x += add[i][0];
			P.y += add[i][1];
			ce(pc[0], pc[1]);
			draw(P.x, P.y, 0); 
			move += 1;
			past();
		}
		
		//플레이어가 이동할 좌표에 집이 있을경우
		else if(pe == 3) {
			//집이 채워져 있을 경우
			if(hm[hn] == 1) {
				hm[hn] = 0;
				hn2 = hn;

				pe = isEmpty(P.x + add[i][0] + add[i][0], P.y + add[i][1] + add[i][1]);
				pb = numIsBall(P.x + add[i][0], P.y + add[i][1]);
				
				//집의 방향 중 플레이어가 이동할 방향에 아무것도 없을경우
				if(pe == 1) {
					//공을 플레이어가 이동할 방향으로 이동
					ce(b[bn].x, b[bn].y);
					b[bn].x += add[i][0];
					b[bn].y += add[i][1];
					draw(b[bn].x, b[bn].y, 2);
					
					//집이 채워지지 않은 것으로 바꿈
					draw(h[i].x, h[i].y, 3);
					hmax -= 1;
					
					//플레이어를 이동
					ce(P.x, P.y);   
					P.x += add[i][0];
					P.y += add[i][1];
					draw(P.x, P.y, 0); 
					move += 1;
					past();
				}	
				
				//집의 방향 중 플레이어가 이동할 방향에 집이 있는 경우
				else if(pe == 3 && hm[hn] == 0) {
					//공을 플레이어가 이동할 방향으로 이동
					ce(b[bn].x, b[bn].y);
					b[bn].x += add[i][0];
					b[bn].y += add[i][1];
					draw(b[bn].x, b[bn].y, 2);
					
					//앞에 있는 집을 채워 놓음
					hm[hn] = 1;
					draw(h[i].x, h[i].y, 3);
					
					//플레이어 이동
					ce(P.x, P.y);   
					P.x += add[i][0];
					P.y += add[i][1];
					draw(P.x, P.y, 0); 
					move += 1;
					past();
				}
				
				//막혀있거나 공이있는 경우 그대로
				else {
					hm[hn2] = 1;
					past();
				}
			}
			
			//채워지지 않은 경우
			else {
				//플레이어 이동
				ce(P.x, P.y);   
				P.x += add[i][0];
				P.y += add[i][1];
				draw(P.x, P.y, 0); 
				move += 1;
				past();
			}
		}
		
		//플레이어가 이동할 방향에 공이 있는 경우
		else if(pe == 2) {
			pe = isEmpty(b[bn].x + add[i][0], b[bn].y + add[i][1]);
			
			//공의 방향 중 플레이어가 이동할 방향에 아무것도 없을 경우
			if(pe == 1) {
				//플레이어가 이동할 방향으로 이동
				ce(b[bn].x, b[bn].y);
				b[bn].x += add[i][0];
				b[bn].y += add[i][1];
				draw(b[bn].x, b[bn].y, 2);
				
				//플레이어 이동
				ce(P.x, P.y);   
				P.x += add[i][0];
				P.y += add[i][1];
				draw(P.x, P.y, 0); 
				move += 1;
				past();
			}
			
			//공의 방향 중 플레이어가 이동할 방향에 집이 있는경우
			else if(pe == 3) {
				//채워지지 않은 경우
				if(hm[hn] == 0) {
					//공을 플레이어가 이동할 방향으로 이동
					ce(b[bn].x, b[bn].y);
					b[bn].x += add[i][0];
					b[bn].y += add[i][1];
					draw(b[bn].x, b[bn].y, 2);
					
					//집을 채워넣음
					hm[hn] = 1;
					draw(h[i].x, h[i].y, 3);
					hmax += 1;
					
					//플레이어 이동
					ce(P.x, P.y);   
					P.x += add[i][0];
					P.y += add[i][1];
					draw(P.x, P.y, 0);
					move += 1;
					past();
				}
			}
		}

		draw(h[i].x, h[i].y, 3); // 집 다시 생성
		draw(P.x, P.y, 0); //플레이어 다시 생성
		
	 	//이동 횟수 적기
		cxy(9 * 2, 19); 
		printf("%d", move);
		
		//되돌린 횟수가 3을 넘으면 3으로 고정
		if(back > 3) {
			back = 3;
		}
		pe = 0;
	}
	hmax = 0; 
	//스테이지들을 전부 클리어 했는지 확인
	if(a != 97 && a != 115) {
		clear[stage] = 1;
		for(int cc = 0; cc < stagemax; cc++) {
			if(clear[cc] == 1) {
				clearcheck += 1;
			}
			else {
				clearcheck = 0;
				break;
			}
		}
	}
	//다음 스테이지 이동
	stage += 1;
}

int main() {
	//기능 설명 띄우기
	cxy(20 * 2, 2); 
	printf("←↑→↓ : 움직이기");
	cxy(20 * 2, 4);
	printf("c : 현재 스테이지 다시 시작");
	cxy(20 * 2, 6);
	printf("a : 이전 스테이지로 이동");
	cxy(20 * 2, 8);
	printf("s : 다음 스테이지로 이동");
	cxy(20 * 2, 10);
	printf("z : 행동 되돌리기");
	
	//스테이지를 전부 클리어 할 때 까지 스테이지 생성
	while(clearcheck != stagemax) {
		makeStage();
	}
	
	//전체 삭제
	for(int r = 0; r < 30; r++) {
		for(int r2 = 0; r2 < 20; r2++) {
			ce(r, r2);
		}
	}
	
	//Game Clear 메세지 띄우기
	cxy(7,5);
	SetConsoleTextAttribute( GetStdHandle( STD_OUTPUT_HANDLE), 15);
	printf("[Game Clear!]\n\n\n\n\n");
	SetConsoleTextAttribute( GetStdHandle( STD_OUTPUT_HANDLE), 7);

	return 0;
}
